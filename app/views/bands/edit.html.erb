<div>
  <%= link_to "Back to Bands Index", bands_path %>
  <%= form_for @band, html: {class: 'form form-horizontal'} do |f| %>
    <fieldset>
      <div>
        <%= f.label :name %>
        <div>
          <%= f.text_field :name %>
        </div>
      </div>
      <div>
        <%= f.label :description %>
        <div>
          <%= f.text_area :description, rows: 5 %>
        </div>
      </div>
      <div>
        <%= f.label :genre %>
        <div>
          <%= f.collection_select(:genre_id, @genres, :id, :title) %><%= link_to "Add new genre", new_genre_path %>
        </div>
      </div>
      <h4>Members</h4>
      <% @band.artists.each do |artist| %>
          <div>
            <%= artist.name %>  <%= link_to "Edit", edit_artist_path(artist) %> / <%= link_to "Delete", artist_path(artist, from: "edit_band"), method: :delete, data: { confirm: 'Are you sure you want to delete this artist?' } %>
          </div>
      <% end %>
      <div>
        <%= link_to "Add member", new_artist_path(band_id: @band.id) %>
      </div>
      <h4>Albums</h4>
      <% @band.albums.each do |album| %>
          <div>
            <%= album.title %>  <%= link_to "Edit", edit_album_path(album) %> / <%= link_to "Delete", album_path(album, from: "edit_band"), method: :delete, data: { confirm: 'Are you sure you want to delete this album?' } %>
          </div>
      <% end %>
      <div>
        <%= link_to "Add album", new_album_path(band_id: @band.id) %>
      </div>
      <h4>Shows</h4>
      <% @band.shows.each do |show| %>
          <div>
            <%= show.title %>  <%= link_to "Edit", edit_show_path(show) %> / <%= link_to "Delete", show_path(show, from: "edit_band"), method: :delete, data: { confirm: 'Are you sure you want to delete this show?' } %>
          </div>
      <% end %>
      <div>
        <%= link_to "Add show", new_show_path(band_id: @band.id) %>
      </div>
      
    <fieldset>
      <%= f.submit "Update Band", from: "edit_band" %> <%= link_to "Cancel", band_path(@band) %>
    </fieldset>
  <% end %>
</div>